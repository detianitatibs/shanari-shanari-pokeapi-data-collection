# 要件定義

[PokeAPI](https://pokeapi.co/)から取得したいデータをドメインとしてそれぞれ定義する。  
各 API の挙動を理解するために、[Notebook](./pokeapi_experiment/api_experiment.ipynb)にて確認をしながら定義する。  
ドメインを定義後、DB としてどのように設計するかを検討する。

# ドメイン設計

PokeAPI から取得して活用したい項目をドメイン、エンティティとして定義する。

## ポケモン

### 説明

ポケモン毎の各情報を管理するマスタードメイン

### エンティティ一覧

| Entity Name          | エンティティ名   | 説明                                                   |
| -------------------- | ---------------- | ------------------------------------------------------ |
| pokemon_id           | ポケモン ID      | ポケモンに割り振られる固有の ID                        |
| pokemon_name_en      | ポケモン名(英語) | ポケモンの英語名                                       |
| pokemon_name_jp      | ポケモン名       | ポケモンの日本語名                                     |
| is_default           | デフォルトフラグ | 複数のフォルムがある場合にデフォルトかどうかを判断する |
| height               | 高さ             | ポケモンの高さ。単位は 1/10 メートル                   |
| weight               | 重さ             | ポケモンの重さ。単位はグラム                           |
| type_1               | タイプ 1         | ポケモンのタイプ 1                                     |
| type_2               | タイプ 2         | ポケモンのタイプ 2。複合でない場合は設定なし。         |
| stat_hp              | HP 種族値        | HP 種族値                                              |
| stat_attack          | 攻撃種族値       | 攻撃種族値                                             |
| stat_defense         | 防御種族値       | 防御種族値                                             |
| stat_special_attack  | 特攻種族値       | 特攻種族値                                             |
| stat_special_defense | 特防種族値       | 特防種族値                                             |
| stat_speed           | 素早さ種族値     | 素早さ種族値                                           |

## 特性

### 説明

ポケモンの特性を管理するマスタードメイン

### エンティティ一覧

| Entity Name     | エンティティ名 | 説明                        |
| --------------- | -------------- | --------------------------- |
| ability_id      | ポケモン ID    | 特性に割り振られる固有の ID |
| ability_name_en | 特性名(英語)   | 特性の英語名                |
| ability_name_jp | 特性名         | 特性の日本語名              |

## 性格

### 説明

ポケモンの性格を管理するマスタードメイン

### エンティティ一覧

| Entity Name    | エンティティ名 | 説明                        |
| -------------- | -------------- | --------------------------- |
| nature_id      | 性格 ID        | 性格に割り振られる固有の ID |
| nature_name_en | 性格名(英語)   | 性格の英語名                |
| nature_name_jp | 性格名         | 性格の日本語名              |
| increased_stat | 上昇種族値     | 上昇補正がかかる種族値      |
| decreased_stat | 下降種族値     | 下降補正がかかる種族値      |

## フォーム(姿)

### 説明

ポケモンの姿(例えばウーラオスの連撃、一撃の型など)を管理するマスタードメイン

### エンティティ一覧

| Entity Name    | エンティティ名   | 説明                                |
| -------------- | ---------------- | ----------------------------------- |
| form_id        | フォーム ID      | ポケモンの姿に割り振られる固有の ID |
| nature_name_en | フォーム名(英語) | フォームの英語名                    |
| nature_name_jp | フォーム名       | フォームの日本語名                  |

## 技

### 説明

技の各情報を管理するマスタードメイン

### エンティティ一覧

| Entity Name    | エンティティ名 | 説明                                              |
| -------------- | -------------- | ------------------------------------------------- |
| move_id        | 技 ID          | 技に割り振られる固有の ID                         |
| move_name_en   | 技名(英語)     | 技の英語名                                        |
| move_name_jp   | 技名           | 技の日本語名                                      |
| type           | 技タイプ       | 技のタイプ                                        |
| power          | 威力           | 技の威力                                          |
| pp             | PP             | パワーポイント　                                  |
| priority       | 優先度         | 技の優先度                                        |
| accuracy       | 命中率         | 技の命中率                                        |
| damage_class   | ダメージ分類   | `physical`: 物理、`special`: 特殊、`status`: 変化 |
| effect_chance  | 追加効果発生率 | 追加効果が発生するパーセント                      |
| effect_entries | 追加効果内容   | 追加効果の内容                                    |
| ailment        | 状態異常       | 与える状態異常                                    |
| move_category  | 技カテゴリ     | 技の種類 (`damage`, `damage+ailment`など)         |
| crit_rate      | 急所カテゴリ   | 急所の当たりやすさ                                |
| drain          | HP 吸収率      | 与えたダメージの何パーセントを回復するか          |
| flinch_chance  | ひるみ率       | ひるみが発生する割合                              |
| healing        | 回復率         | 最大 HP の何パーセント回復するか                  |
| max_hits       | 最大ヒット回数 | 連続技の最大回数                                  |
| min_hits       | 最小ヒット回数 | 連続技の最小回数                                  |
| max_turns      | 最大継続回数   | 技が続く最大ターン数                              |
| min_turns      | 最小継続回数   | 技が続く最小ターン数                              |
| stat_chance    | 能力変化率     | 技を打つことで能力が変化する割合                  |
| stat_changes   | 能力変化       | どのような能力が変化するか                        |
| target         | 技範囲         | 技の対象範囲                                      |
